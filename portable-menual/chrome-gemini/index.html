<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linux Portable Chrome Guide</title>
    <link rel="stylesheet" href="style.css">
    
</head>
<body>

    <h1>Linux Chrome Portable & Default Setup</h1>
    <p>리눅스 환경에서 구글 크롬을 무설치(Portable)로 구성하고 기본 브라우저로 설정하는 기술 문서입니다.</p>

    <h2>STEP 1. 다운로드 및 추출</h2>
    <div class="step-container">
        <div class="description">
            공식 <code>.deb</code> 패키지를 다운로드한 후, <code>dpkg</code> 명령어를 사용하여 설치 없이 파일만 추출합니다.
        </div>
        <pre><code><span class="comment"># 1. 공식 패키지 다운로드</span>
<span class="command">wget</span> <span class="string">https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb</span>

<span class="comment"># 2. 패키지 추출 (설치 X)</span>
<span class="command">mkdir</span> chrome-portable
<span class="command">dpkg</span> -x google-chrome-stable_current_amd64.deb chrome-portable</code></pre>
    </div>

    <h2>STEP 2. 실행 스크립트 작성</h2>
    <div class="step-container">
        <div class="description">
            경로 의존성을 해결하고 샌드박스 옵션을 적용하는 래퍼(Wrapper) 스크립트를 생성합니다.<br>
            파일 위치: <code>chrome-portable/opt/google/chrome/run-chrome.sh</code>
        </div>
        <pre><code><span class="comment">#!/bin/bash</span>

<span class="comment"># 스크립트 위치를 기준으로 절대 경로 계산</span>
HERE="$( cd "$( dirname "$0" )" && pwd )"

<span class="comment"># 크롬 실행 (프로필 격리 + 샌드박스 해제 + URL 인자 전달)</span>
<span class="comment"># 주의: .desktop 연동을 위해 nohup/& 없이 포그라운드 실행 권장</span>
"$HERE/google-chrome" \
  <span class="parameter">--user-data-dir</span>="$HERE/profile" \
  <span class="parameter">--no-sandbox</span> \
  "$@"</code></pre>
        <div class="warning">
            <strong>주의:</strong> <code>--no-sandbox</code> 옵션은 컨테이너 환경 등에서 필수적이나, 보안 기능이 해제되므로 신뢰할 수 있는 사이트에서만 사용하십시오.
        </div>
        <div class="description">
            작성 후 실행 권한을 부여합니다: <code>chmod +x run-chrome.sh</code>
        </div>
    </div>

    <h2>STEP 3. 데스크톱 엔트리 등록</h2>
    <div class="step-container">
        <div class="description">
            시스템이 브라우저로 인식할 수 있도록 <code>.desktop</code> 파일을 생성합니다.<br>
            파일 위치: <code>~/.local/share/applications/chrome-portable.desktop</code>
        </div>
        <pre><code>[Desktop Entry]
Version=1.0
Type=Application
Name=Google Chrome Portable
Comment=Portable Web Browser
<span class="comment"># 아래 Exec 경로는 실제 run-chrome.sh 위치로 수정 필수</span>
Exec=<span class="string">/home/user/다운로드경로/opt/google/chrome/run-chrome.sh %u</span>
Icon=google-chrome
Categories=Network;WebBrowser;
MimeType=text/html;text/xml;application/xhtml_xml;x-scheme-handler/http;x-scheme-handler/https;
StartupNotify=true
Terminal=false</code></pre>
    </div>

    <h2>STEP 4. 기본 브라우저 설정</h2>
    <div class="step-container">
        <div class="description">
            <code>xdg-settings</code> 도구를 사용하여 위에서 만든 엔트리를 기본값으로 지정합니다.
        </div>
        <pre><code><span class="comment"># 기본 브라우저 지정</span>
<span class="command">xdg-settings</span> set default-web-browser chrome-portable.desktop

<span class="comment"># 설정 확인 (출력: chrome-portable.desktop)</span>
<span class="command">xdg-settings</span> get default-web-browser</code></pre>
    </div>

    <footer>
        Generated by Gemini • Based on User Context
    </footer>

</body>
</html>